<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stripe Buy Button Example - millo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl font-bold mb-2">Stripe Buy Button Examples</h1>
            <p class="text-lg opacity-90">Live demonstrations of Buy Button integration</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        
        <!-- Example 1: Basic Buy Button -->
        <section class="mb-12 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-4">Example 1: Basic Buy Button</h2>
            <p class="text-gray-600 mb-6">
                The simplest implementation - just the script and button element.
            </p>
            
            <div class="bg-gray-100 p-6 rounded-lg mb-4">
                <h3 class="font-semibold mb-3">Live Demo:</h3>
                <!-- Stripe Buy Button will be inserted here -->
                <script async src="https://js.stripe.com/v3/buy-button.js"></script>
                <stripe-buy-button
                    buy-button-id="buy_btn_1ShurIRwc1RkBb2PfGHUskTz"
                    publishable-key="pk_live_51Ndm3QRwc1RkBb2PSIWPn92BbDYkt33NLCly9ZDbrgtlyy57gzC8Q3K0ttC4D95MQOQA95fPPA03D9qGIXpGGkzH00Ih1IrhdK">
                </stripe-buy-button>
            </div>
            
            <div class="bg-gray-900 text-white p-6 rounded-lg">
                <h3 class="font-semibold mb-3">HTML Code:</h3>
                <pre class="text-sm overflow-x-auto"><code>&lt;script async src="https://js.stripe.com/v3/buy-button.js"&gt;&lt;/script&gt;

&lt;stripe-buy-button
    buy-button-id="buy_btn_1ShurIRwc1RkBb2PfGHUskTz"
    publishable-key="pk_live_51Ndm3Q..."&gt;
&lt;/stripe-buy-button&gt;</code></pre>
            </div>
        </section>

        <!-- Example 2: Buy Button with JavaScript API -->
        <section class="mb-12 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-4">Example 2: JavaScript API Integration</h2>
            <p class="text-gray-600 mb-6">
                Use the millo JavaScript API to render Buy Buttons dynamically.
            </p>
            
            <div class="bg-gray-100 p-6 rounded-lg mb-4">
                <h3 class="font-semibold mb-3">Live Demo:</h3>
                <div id="dynamic-buy-button-container"></div>
                <button 
                    onclick="renderDynamicButton()"
                    class="mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                    Click to Render Buy Button
                </button>
            </div>
            
            <div class="bg-gray-900 text-white p-6 rounded-lg">
                <h3 class="font-semibold mb-3">JavaScript Code:</h3>
                <pre class="text-sm overflow-x-auto"><code>// Import the library
&lt;script src="js/stripe-buy-button.js"&gt;&lt;/script&gt;

// Render button dynamically
async function renderDynamicButton() {
    await renderStripeBuyButton(
        'dynamic-buy-button-container',
        'buy_btn_1ShurIRwc1RkBb2PfGHUskTz'
    );
}</code></pre>
            </div>
        </section>

        <!-- Example 3: Product Card with Buy Button -->
        <section class="mb-12 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-4">Example 3: Product Card Integration</h2>
            <p class="text-gray-600 mb-6">
                Complete product card with image, details, and Buy Button.
            </p>
            
            <div class="bg-gray-100 p-6 rounded-lg">
                <h3 class="font-semibold mb-3">Live Demo:</h3>
                <div class="max-w-sm mx-auto bg-white rounded-lg shadow-md overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop" 
                         alt="Product" 
                         class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Premium Product</h3>
                        <p class="text-gray-600 mb-4">High-quality item with excellent features and benefits.</p>
                        <div class="text-3xl font-bold text-purple-600 mb-4">$29.99</div>
                        
                        <!-- Buy Button Container -->
                        <div id="product-card-buy-button"></div>
                        
                        <!-- Fallback Cart Button -->
                        <button class="w-full mt-3 px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Example 4: Multiple Products -->
        <section class="mb-12 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-4">Example 4: Multiple Products Grid</h2>
            <p class="text-gray-600 mb-6">
                Multiple products, each with their own Buy Button.
            </p>
            
            <div class="bg-gray-100 p-6 rounded-lg">
                <h3 class="font-semibold mb-3">Live Demo:</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <!-- Product 1 -->
                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="h-32 bg-purple-200 rounded mb-3"></div>
                        <h4 class="font-bold mb-2">Product A</h4>
                        <p class="text-2xl font-bold text-purple-600 mb-3">$19.99</p>
                        <div id="multi-product-1"></div>
                    </div>
                    
                    <!-- Product 2 -->
                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="h-32 bg-blue-200 rounded mb-3"></div>
                        <h4 class="font-bold mb-2">Product B</h4>
                        <p class="text-2xl font-bold text-blue-600 mb-3">$29.99</p>
                        <div id="multi-product-2"></div>
                    </div>
                    
                    <!-- Product 3 -->
                    <div class="bg-white rounded-lg shadow p-4">
                        <div class="h-32 bg-green-200 rounded mb-3"></div>
                        <h4 class="font-bold mb-2">Product C</h4>
                        <p class="text-2xl font-bold text-green-600 mb-3">$39.99</p>
                        <div id="multi-product-3"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Configuration Guide -->
        <section class="mb-12 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-4">üìù Configuration Guide</h2>
            <div class="space-y-4">
                <div>
                    <h3 class="font-bold text-lg mb-2">Step 1: Get Your Keys</h3>
                    <p class="opacity-90">Log into Stripe Dashboard and copy your publishable key.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">Step 2: Create Buy Buttons</h3>
                    <p class="opacity-90">Go to Products ‚Üí Select Product ‚Üí Create Buy Button ‚Üí Copy Button ID</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">Step 3: Update Configuration</h3>
                    <p class="opacity-90">Edit js/stripe-buy-button.js with your keys and button IDs.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">Step 4: Test</h3>
                    <p class="opacity-90">Use Stripe test cards to verify everything works correctly.</p>
                </div>
            </div>
        </section>

        <!-- Documentation Link -->
        <section class="text-center py-8">
            <a href="STRIPE_BUY_BUTTON_GUIDE.md" 
               class="inline-block px-8 py-4 bg-purple-600 text-white rounded-lg font-bold text-lg hover:bg-purple-700 transition">
                üìö Read Full Documentation
            </a>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 millo Marketplace. Powered by Stripe.</p>
            <p class="text-sm text-gray-400 mt-2">For testing, use card: 4242 4242 4242 4242</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/stripe-buy-button.js"></script>
    <script>
        // Initialize dynamic examples when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            // Example 2: Render button via JavaScript
            // (Button will be rendered when user clicks the button)
            
            // Example 3: Product card buy button
            await renderStripeBuyButton('product-card-buy-button');
            
            // Example 4: Multiple products
            await renderStripeBuyButton('multi-product-1');
            await renderStripeBuyButton('multi-product-2');
            await renderStripeBuyButton('multi-product-3');
        });
        
        // Function for Example 2
        async function renderDynamicButton() {
            const container = document.getElementById('dynamic-buy-button-container');
            container.innerHTML = '<p class="text-gray-600 mb-2">Loading...</p>';
            
            try {
                await renderStripeBuyButton('dynamic-buy-button-container');
                // Hide the render button after success
                event.target.style.display = 'none';
            } catch (error) {
                container.innerHTML = '<p class="text-red-600">Failed to load Buy Button</p>';
            }
        }
    </script>
</body>
</html>
